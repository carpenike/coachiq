
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Documentation for the rvc2api project" name="description"/>
<link href="https://carpenike.github.io/rvc2api/latest/pdf-processing-guide-new/" rel="canonical"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.14" name="generator"/>
<title>PDF Processing Guide for Vector Search - rvc2api Documentation</title>
<link href="../assets/stylesheets/main.342714a4.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="amber" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#pdf-processing-guide-for-vector-search">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="rvc2api Documentation" class="md-header__button md-logo" data-md-component="logo" href=".." title="rvc2api Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            rvc2api Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              PDF Processing Guide for Vector Search
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../documentation-organization/">
        
  
  
    
  
  Documentation Guide

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../development-environments/">
          
  
  
  User Guide

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../architecture/backend/">
          
  
  
  Developer Guide

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../documentation-updates-summary/">
          
  
  
  Project Updates

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../specs/refactor-web-ui-to-react/">
          
  
  
  Specs

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="rvc2api Documentation" class="md-nav__button md-logo" data-md-component="logo" href=".." title="rvc2api Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    rvc2api Documentation
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../documentation-organization/">
<span class="md-ellipsis">
    Documentation Guide
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    User Guide
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../development-environments/">
<span class="md-ellipsis">
    Development Environment
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vscode-extensions/">
<span class="md-ellipsis">
    VS Code Setup
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-ellipsis">
    System Architecture
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            System Architecture
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../architecture/overview/">
<span class="md-ellipsis">
    Project Overview
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-ellipsis">
    API Reference
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/">
<span class="md-ellipsis">
    API Home
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/openapi/">
<span class="md-ellipsis">
    OpenAPI Specification
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/entities/">
<span class="md-ellipsis">
    Entity Endpoints
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/can/">
<span class="md-ellipsis">
    CAN Endpoints
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/websocket/">
<span class="md-ellipsis">
    WebSocket API
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-ellipsis">
    RV-C Integration
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            RV-C Integration
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../rv-c-documentation-search/">
<span class="md-ellipsis">
    RV-C Documentation Search
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mixed-chunking-strategies/">
<span class="md-ellipsis">
    Mixed Chunking Strategies
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pdf-processing-guide/">
<span class="md-ellipsis">
    PDF Processing Guide
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-ellipsis">
    Deployment
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            Deployment
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../react-deployment/">
<span class="md-ellipsis">
    React Deployment
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../nixos-module/">
<span class="md-ellipsis">
    NixOS Module
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../environment-variable-integration/">
<span class="md-ellipsis">
    Environment Variables
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../nixos-integration/">
<span class="md-ellipsis">
    NixOS Integration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../debian-repository/">
<span class="md-ellipsis">
    Debian Repository
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../github-pages-deployment/">
<span class="md-ellipsis">
    GitHub Pages
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../enabling-github-pages/">
<span class="md-ellipsis">
    Enabling GitHub Pages
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../version-management/">
<span class="md-ellipsis">
    Version Management
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Developer Guide
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
<span class="md-ellipsis">
    Architecture
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../architecture/backend/">
<span class="md-ellipsis">
    Backend Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../architecture/frontend/">
<span class="md-ellipsis">
    Frontend Architecture
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-ellipsis">
    Development
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../frontend-development/">
<span class="md-ellipsis">
    Frontend Development
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../frontend-theming/">
<span class="md-ellipsis">
    Frontend Theming
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/frontend-integration/">
<span class="md-ellipsis">
    API Integration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../enhanced-dev-environment/">
<span class="md-ellipsis">
    Enhanced Dev Environment
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mcp-tools-setup/">
<span class="md-ellipsis">
    MCP Tools Setup
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
<span class="md-ellipsis">
    Quality Assurance
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            Quality Assurance
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../code-quality-tools/">
<span class="md-ellipsis">
    Code Quality Tools
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pyright-type-checking/">
<span class="md-ellipsis">
    Pyright Type Checking
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../pre-commit-and-actions/">
<span class="md-ellipsis">
    Pre-Commit Hooks
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../eslint-typescript-config/">
<span class="md-ellipsis">
    ESLint TypeScript Config
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
<span class="md-ellipsis">
    Build System
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            Build System
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../poetry2nix-integration/">
<span class="md-ellipsis">
    Poetry2Nix Integration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../github-actions/">
<span class="md-ellipsis">
    GitHub Actions
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../github-actions-summary/">
<span class="md-ellipsis">
    GitHub Actions Summary
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
<span class="md-ellipsis">
    Contributing
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../contributing/documentation/">
<span class="md-ellipsis">
    Documentation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../contributing/openapi/">
<span class="md-ellipsis">
    OpenAPI
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../contributing/pull-requests/">
<span class="md-ellipsis">
    Pull Request Guidelines
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Project Updates
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Project Updates
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../documentation-updates-summary/">
<span class="md-ellipsis">
    Documentation Updates
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mkdocs-config-update/">
<span class="md-ellipsis">
    MkDocs Configuration Update
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../react-migration-summary/">
<span class="md-ellipsis">
    React Migration Summary
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../test-mermaid/">
<span class="md-ellipsis">
    Diagrams Test
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mkdocs-versioning/">
<span class="md-ellipsis">
    Documentation Versioning
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mkdocs-versioning-integration/">
<span class="md-ellipsis">
    Versioning Integration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../verifying-versioned-documentation/">
<span class="md-ellipsis">
    Verifying Versioning
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../versioning-with-release-please/">
<span class="md-ellipsis">
    Versioning with Release-Please
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../docs-versioning-fixes/">
<span class="md-ellipsis">
    Versioning Fixes
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../documentation-versioning-update/">
<span class="md-ellipsis">
    Versioning Updates
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../version-management/">
<span class="md-ellipsis">
    Version Management
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    Specs
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Specs
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../specs/refactor-web-ui-to-react/">
<span class="md-ellipsis">
    React Frontend Migration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../specs/spec-aware-decoder/">
<span class="md-ellipsis">
    Spec-Aware Decoder
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="pdf-processing-guide-for-vector-search">PDF Processing Guide for Vector Search<a class="headerlink" href="#pdf-processing-guide-for-vector-search" title="Permanent link">¶</a></h1>
<p>This guide explains how to process PDF files through the enhanced document processor to generate embeddings for the FAISS index in the RVC2API project. The tool supports multiple chunking strategies and can automatically detect the most appropriate strategy for your document.</p>
<h2 id="workflow-overview">Workflow Overview<a class="headerlink" href="#workflow-overview" title="Permanent link">¶</a></h2>
<p>The process of adding a new PDF document to the searchable FAISS index involves these steps:</p>
<ol>
<li><strong>Prepare the PDF document</strong> - Place in resources directory</li>
<li><strong>Process the PDF into chunks</strong> - Generate text chunks with appropriate strategy</li>
<li><strong>Create embeddings and update the index</strong> - Convert chunks to vectors and add to FAISS</li>
<li><strong>Verify and test the search</strong> - Ensure the new content is searchable</li>
</ol>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">¶</a></h2>
<ul>
<li>Python 3.9+ with proper type annotations</li>
<li>OpenAI API key set in your environment (<code>export OPENAI_API_KEY=your-api-key</code>)</li>
<li>Poetry dependencies installed with <code>poetry install --with devtools</code></li>
<li>PDF document(s) you want to add to the search index</li>
</ul>
<h2 id="step-1-prepare-your-pdf-document">Step 1: Prepare Your PDF Document<a class="headerlink" href="#step-1-prepare-your-pdf-document" title="Permanent link">¶</a></h2>
<ol>
<li>Place your PDF file in the <code>resources/</code> directory</li>
<li>Recommended: Use a consistent naming convention that describes content and version
   <div class="highlight"><pre><span></span><code>resources/your-document-name-2023.pdf
</code></pre></div></li>
</ol>
<h2 id="step-2-choose-a-chunking-strategy">Step 2: Choose a Chunking Strategy<a class="headerlink" href="#step-2-choose-a-chunking-strategy" title="Permanent link">¶</a></h2>
<p>Select the appropriate chunking strategy based on your document's structure:</p>
<table>
<thead>
<tr>
<th>Document Type</th>
<th>Recommended Strategy</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td>RV-C Specification</td>
<td><code>SECTION_OVERLAP</code></td>
<td>Technical specifications with section numbers</td>
</tr>
<tr>
<td>Equipment Manuals</td>
<td><code>PARAGRAPH</code></td>
<td>User manuals with natural paragraphs</td>
</tr>
<tr>
<td>Generic PDFs</td>
<td><code>SLIDING_WINDOW</code></td>
<td>General text with no clear structure</td>
</tr>
<tr>
<td>Technical Docs</td>
<td><code>TOKEN</code></td>
<td>Fixed-size token-based chunks</td>
</tr>
</tbody>
</table>
<h2 id="step-3-process-your-pdf-with-the-enhanced-document-processor">Step 3: Process Your PDF with the Enhanced Document Processor<a class="headerlink" href="#step-3-process-your-pdf-with-the-enhanced-document-processor" title="Permanent link">¶</a></h2>
<p>Use the enhanced document processor (<code>enhanced_document_processor.py</code>) which supports multiple chunking strategies and can automatically detect the most appropriate strategy for your document.</p>
<h3 id="basic-usage-auto-detect">Basic Usage (Auto-Detect)<a class="headerlink" href="#basic-usage-auto-detect" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf
</code></pre></div>
<p>This will:</p>
<ol>
<li>Auto-detect the best chunking strategy based on document structure</li>
<li>Process the document with the selected strategy</li>
<li>Save chunks to <code>resources/your-document-name-2023_chunks.json</code></li>
</ol>
<h3 id="specify-chunking-strategy">Specify Chunking Strategy<a class="headerlink" href="#specify-chunking-strategy" title="Permanent link">¶</a></h3>
<p>You can specify a chunking strategy if you know what works best for your document:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>section_overlap
</code></pre></div>
<p>Available chunking strategies:</p>
<ul>
<li><code>section_overlap</code>: For technical specifications with clear section numbering</li>
<li><code>paragraph</code>: For manuals and documents with natural paragraph breaks</li>
<li><code>sliding_window</code>: For generic documents with no clear structure</li>
<li><code>token</code>: For fixed-size token-based chunking</li>
</ul>
<h3 id="process-and-add-to-faiss-index-in-one-step">Process and Add to FAISS Index in One Step<a class="headerlink" href="#process-and-add-to-faiss-index-in-one-step" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--add-to-index<span class="w"> </span>resources/vector_store/rvc_spec_index
</code></pre></div>
<p>This processes the PDF and adds it to an existing FAISS index in one operation.</p>
<h3 id="create-a-new-faiss-index">Create a New FAISS Index<a class="headerlink" href="#create-a-new-faiss-index" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--add-to-index<span class="w"> </span>resources/vector_store/new_index<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--create-new-index
</code></pre></div>
<p>This processes the PDF and creates a new FAISS index.</p>
<h2 id="chunking-strategy-options">Chunking Strategy Options<a class="headerlink" href="#chunking-strategy-options" title="Permanent link">¶</a></h2>
<h3 id="section-based-chunking">Section-Based Chunking<a class="headerlink" href="#section-based-chunking" title="Permanent link">¶</a></h3>
<p>Best for technical specifications with clear section numbering:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>section_overlap<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--section-pattern<span class="w"> </span><span class="s2">"^(\d+\.\d+(\.\d+)?)(\s+)(.+)"</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--overlap<span class="w"> </span><span class="m">5</span>
</code></pre></div>
<h3 id="paragraph-based-chunking">Paragraph-Based Chunking<a class="headerlink" href="#paragraph-based-chunking" title="Permanent link">¶</a></h3>
<p>Best for manuals and documents with natural paragraph breaks:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>paragraph
</code></pre></div>
<h3 id="sliding-window-chunking">Sliding Window Chunking<a class="headerlink" href="#sliding-window-chunking" title="Permanent link">¶</a></h3>
<p>Best for generic documents with no clear structure:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>sliding_window<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--window-size<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--overlap<span class="w"> </span><span class="m">3</span>
</code></pre></div>
<h3 id="token-based-chunking">Token-Based Chunking<a class="headerlink" href="#token-based-chunking" title="Permanent link">¶</a></h3>
<p>Best for fixed-size chunks:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>token<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunk-size<span class="w"> </span><span class="m">512</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--overlap<span class="w"> </span><span class="m">50</span>
</code></pre></div>
<h2 id="advanced-options">Advanced Options<a class="headerlink" href="#advanced-options" title="Permanent link">¶</a></h2>
<h3 id="custom-output-path">Custom Output Path<a class="headerlink" href="#custom-output-path" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--output<span class="w"> </span>resources/custom_output_name.json
</code></pre></div>
<h3 id="specify-embedding-model">Specify Embedding Model<a class="headerlink" href="#specify-embedding-model" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/your-document-name-2023.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--add-to-index<span class="w"> </span>resources/vector_store/rvc_spec_index<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--model<span class="w"> </span>text-embedding-3-small
</code></pre></div>
<h2 id="step-4-test-your-index">Step 4: Test Your Index<a class="headerlink" href="#step-4-test-your-index" title="Permanent link">¶</a></h2>
<p>Verify that your document is properly indexed and searchable:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Test searching in the index</span>
poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/query_faiss.py<span class="w"> </span><span class="s2">"your search query"</span><span class="w"> </span>--source<span class="w"> </span><span class="s2">"your-document-name-2023.pdf"</span>
</code></pre></div>
<h2 id="examples-by-document-type">Examples by Document Type<a class="headerlink" href="#examples-by-document-type" title="Permanent link">¶</a></h2>
<h3 id="technical-specification">Technical Specification<a class="headerlink" href="#technical-specification" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/rvc-spec-2023-11.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>section_overlap<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--add-to-index<span class="w"> </span>resources/vector_store/rvc_spec_index
</code></pre></div>
<h3 id="user-manual">User Manual<a class="headerlink" href="#user-manual" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/victron-multiplus-manual.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>paragraph<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--add-to-index<span class="w"> </span>resources/vector_store/manuals_index
</code></pre></div>
<h3 id="generic-pdf">Generic PDF<a class="headerlink" href="#generic-pdf" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/enhanced_document_processor.py<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--pdf<span class="w"> </span>resources/misc-document.pdf<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--chunking<span class="w"> </span>sliding_window<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--add-to-index<span class="w"> </span>resources/vector_store/misc_index
</code></pre></div>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">¶</a></h2>
<h3 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">¶</a></h3>
<ul>
<li><strong>Missing API key</strong>: Set <code>export OPENAI_API_KEY=your-api-key</code></li>
<li><strong>PDF extraction errors</strong>: Use PyMuPDF debugging tools and check PDF encoding</li>
<li><strong>Chunks too large</strong>: Adjust chunking strategy for shorter text segments</li>
<li><strong>Inconsistent metadata</strong>: Ensure document_loader is used for all sources</li>
</ul>
<h3 id="testing-document-loader">Testing Document Loader<a class="headerlink" href="#testing-document-loader" title="Permanent link">¶</a></h3>
<p>Use the test_document_loader.py script to verify your chunks are correctly processed:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>dev_tools/test_document_loader.py
</code></pre></div>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">¶</a></h2>
<ul>
<li><a href="https://docs.langchain.com/docs/integrations/vectorstores/faiss">LangChain FAISS Integration</a></li>
<li><a href="https://pymupdf.readthedocs.io/">PyMuPDF Documentation</a></li>
<li><a href="https://platform.openai.com/docs/guides/embeddings">OpenAI Embeddings Documentation</a></li>
</ul>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
</body>
</html>