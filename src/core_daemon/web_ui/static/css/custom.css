.nav-link.active-nav {
  background-color: #4A5568; /* Tailwind gray-600 */
}
/* Collapsed sidebar hover effect */
#sidebar.sidebar-collapsed-hoverable {
  cursor: pointer;
}
body.theme-default #sidebar.sidebar-collapsed-hoverable:hover,
body.theme-dark #sidebar.sidebar-collapsed-hoverable:hover {
  background-color: #374151; /* Tailwind gray-700 */
}
body.theme-light #sidebar.sidebar-collapsed-hoverable:hover {
  background-color: #e5e7eb; /* Tailwind gray-200 */
}
/* Catppuccin Mocha Palette */
:root {
  --ctp-mocha-rosewater: #f5e0dc;
  --ctp-mocha-flamingo: #f2cdcd;
  --ctp-mocha-pink: #f5c2e7;
  --ctp-mocha-mauve: #cba6f7;
  --ctp-mocha-red: #f38ba8;
  --ctp-mocha-maroon: #eba0ac;
  --ctp-mocha-peach: #fab387;
  --ctp-mocha-yellow: #f9e2af;
  --ctp-mocha-green: #a6e3a1;
  --ctp-mocha-teal: #94e2d5;
  --ctp-mocha-sky: #89dceb;
  --ctp-mocha-sapphire: #74c7ec;
  --ctp-mocha-blue: #89b4fa;
  --ctp-mocha-lavender: #b4befe;
  --ctp-mocha-text: #cad3f5;
  --ctp-mocha-subtext1: #bac2de;
  --ctp-mocha-subtext0: #a6adc8;
  --ctp-mocha-overlay2: #9399b2;
  --ctp-mocha-overlay1: #7f849c;
  --ctp-mocha-overlay0: #6c7086;
  --ctp-mocha-surface2: #585b70;
  --ctp-mocha-surface1: #45475a;
  --ctp-mocha-surface0: #313244;
  --ctp-mocha-base: #1e1e2e;
  --ctp-mocha-mantle: #181825;
  --ctp-mocha-crust: #11111b;
}

/* Catppuccin Latte Palette */
:root {
  --ctp-latte-rosewater: #dc8a78;
  --ctp-latte-flamingo: #dd7878;
  --ctp-latte-pink: #ea76cb;
  --ctp-latte-mauve: #8839ef;
  --ctp-latte-red: #d20f39;
  --ctp-latte-maroon: #e64553;
  --ctp-latte-peach: #fe640b;
  --ctp-latte-yellow: #df8e1d;
  --ctp-latte-green: #40a02b;
  --ctp-latte-teal: #179299;
  --ctp-latte-sky: #04a5e5;
  --ctp-latte-sapphire: #209fb5;
  --ctp-latte-blue: #1e66f5;
  --ctp-latte-lavender: #7287fd;
  --ctp-latte-text: #4c4f69;
  --ctp-latte-subtext1: #5c5f77;
  --ctp-latte-subtext0: #6c6f85;
  --ctp-latte-overlay2: #7c7f93;
  --ctp-latte-overlay1: #8c8fa1;
  --ctp-latte-overlay0: #9ca0b0;
  --ctp-latte-surface2: #acb0be;
  --ctp-latte-surface1: #bcc0cc;
  --ctp-latte-surface0: #ccd0da;
  --ctp-latte-base: #eff1f5;
  --ctp-latte-mantle: #e6e9ef;
  --ctp-latte-crust: #dce0e8;
}

/* Basic Theme Styles */
body.theme-default {
  background-color: #1a202c; /* Tailwind gray-900 */
  color: #e2e8f0; /* Tailwind gray-100 */
}
body.theme-dark header, body.theme-dark aside, body.theme-dark #pinnedLogsContainer, body.theme-dark #pinnedLogsContent, body.theme-dark .view-section pre, body.theme-dark .view-section div[class*="bg-gray-800"] {
  background-color: #1f2937; /* Darker gray, e.g., gray-800 */
  color: #d1d5db; /* Lighter gray text */
}
body.theme-dark .nav-link.active-nav { background-color: #374151; /* gray-700 */}
body.theme-dark button, body.theme-dark select, body.theme-dark input {
  background-color: #374151; /* gray-700 */
  color: #d1d5db;
  border-color: #4b5563; /* gray-600 */
}
body.theme-dark #log-stream { background-color: #111827; color: #a7f3d0; } /* Even darker for log, greenish text */

body.theme-light {
  background-color: #f3f4f6; /* Tailwind gray-100 */
  color: #1f2937; /* Tailwind gray-800 */
}
body.theme-light header, body.theme-light aside, body.theme-light #pinnedLogsContainer, body.theme-light #pinnedLogsContent, body.theme-light .view-section pre, body.theme-light .view-section div[class*="bg-gray-800"] {
  background-color: #ffffff; /* White */
  color: #1f2937; /* Dark gray text */
  border-color: #e5e7eb; /* Lighter border */
}
body.theme-light .nav-link { color: #374151; }
body.theme-light .nav-link.active-nav { background-color: #e5e7eb; /* gray-200 */ color: #111827;}
body.theme-light button, body.theme-light select, body.theme-light input {
  background-color: #e5e7eb; /* gray-200 */
  color: #1f2937;
  border-color: #d1d5db; /* gray-300 */
}
body.theme-light #log-stream { background-color: #e5e7eb; color: #065f46; } /* Light bg for log, dark green text */
body.theme-light #spec-content {color: #0000AA;} /* Dark blue for spec content in light theme */
body.theme-light #mapping-content {color: #007700;} /* Dark green for mapping content in light theme */

/* Catppuccin Mocha Theme Styles */
body.theme-catppuccin-mocha {
  background-color: var(--ctp-mocha-base);
  color: var(--ctp-mocha-text);
}
body.theme-catppuccin-mocha header,
body.theme-catppuccin-mocha aside,
body.theme-catppuccin-mocha #pinnedLogsContainer,
body.theme-catppuccin-mocha #pinnedLogsContent,
body.theme-catppuccin-mocha .view-section pre,
body.theme-catppuccin-mocha .view-section div[class*="bg-gray-800"] /* Approx for general dark cards */ {
  background-color: var(--ctp-mocha-mantle);
  color: var(--ctp-mocha-text);
  border-color: var(--ctp-mocha-surface0);
}
body.theme-catppuccin-mocha .nav-link { color: var(--ctp-mocha-subtext0); }
body.theme-catppuccin-mocha .nav-link:hover { color: var(--ctp-mocha-text); background-color: var(--ctp-mocha-surface0); }
body.theme-catppuccin-mocha .nav-link.active-nav { background-color: var(--ctp-mocha-surface1); color: var(--ctp-mocha-mauve); }
body.theme-catppuccin-mocha button,
body.theme-catppuccin-mocha select,
body.theme-catppuccin-mocha input {
  background-color: var(--ctp-mocha-surface0);
  color: var(--ctp-mocha-text);
  border-color: var(--ctp-mocha-surface1);
}
body.theme-catppuccin-mocha button:hover,
body.theme-catppuccin-mocha select:hover,
body.theme-catppuccin-mocha input:hover {
  border-color: var(--ctp-mocha-overlay0);
}
body.theme-catppuccin-mocha #log-stream { background-color: var(--ctp-mocha-crust); color: var(--ctp-mocha-green); }
body.theme-catppuccin-mocha #spec-content { color: var(--ctp-mocha-blue); }
body.theme-catppuccin-mocha #mapping-content { color: var(--ctp-mocha-teal); }
body.theme-catppuccin-mocha #sidebar.sidebar-collapsed-hoverable:hover {
  background-color: var(--ctp-mocha-surface0);
}
body.theme-catppuccin-mocha #pinnedLogsHeader:hover {
  background-color: var(--ctp-mocha-surface0);
}
body.theme-catppuccin-mocha #toggleSidebarDesktop:hover {
  background-color: var(--ctp-mocha-surface0);
}
 body.theme-catppuccin-mocha .bg-blue-600 { background-color: var(--ctp-mocha-blue); }
 body.theme-catppuccin-mocha .hover\\:bg-blue-700:hover { background-color: var(--ctp-mocha-sapphire); }
 body.theme-catppuccin-mocha .bg-gray-700 { background-color: var(--ctp-mocha-surface1); }
 body.theme-catppuccin-mocha .hover\\:bg-gray-600:hover { background-color: var(--ctp-mocha-surface2); }
 body.theme-catppuccin-mocha .bg-yellow-500 { background-color: var(--ctp-mocha-yellow); color: var(--ctp-mocha-base); }
 body.theme-catppuccin-mocha .hover\\:bg-yellow-600:hover { background-color: var(--ctp-mocha-peach); color: var(--ctp-mocha-base); }
 body.theme-catppuccin-mocha .bg-green-600 { background-color: var(--ctp-mocha-green); color: var(--ctp-mocha-base); }
 body.theme-catppuccin-mocha .hover\\:bg-green-700:hover { background-color: var(--ctp-mocha-teal); color: var(--ctp-mocha-base); }
 body.theme-catppuccin-mocha .text-gray-300 { color: var(--ctp-mocha-subtext0); }
 body.theme-catppuccin-mocha .text-gray-100 { color: var(--ctp-mocha-text); }
 body.theme-catppuccin-mocha .text-gray-400 { color: var(--ctp-mocha-overlay1); }
 body.theme-catppuccin-mocha .text-gray-500 { color: var(--ctp-mocha-overlay0); }
 body.theme-catppuccin-mocha .border-gray-700 { border-color: var(--ctp-mocha-surface0); }
 body.theme-catppuccin-mocha .border-gray-600 { border-color: var(--ctp-mocha-surface1); }
 body.theme-catppuccin-mocha .bg-gray-900 { background-color: var(--ctp-mocha-base); } /* For select dropdown bg */
 body.theme-catppuccin-mocha .bg-black { background-color: var(--ctp-mocha-crust); } /* For log stream bg */
 body.theme-catppuccin-mocha .text-green-400 { color: var(--ctp-mocha-green); } /* Log stream text */
 body.theme-catppuccin-mocha .text-blue-300 { color: var(--ctp-mocha-blue); } /* Spec content */
 body.theme-catppuccin-mocha .text-green-300 { color: var(--ctp-mocha-teal); } /* Mapping content */
 body.theme-catppuccin-mocha .text-red-500 { color: var(--ctp-mocha-red); }
 body.theme-catppuccin-mocha .text-yellow-400 { color: var(--ctp-mocha-yellow); }
 body.theme-catppuccin-mocha .text-blue-400 { color: var(--ctp-mocha-blue); }
 body.theme-catppuccin-mocha .hover\\:text-white:hover { color: var(--ctp-mocha-text); }

/* Catppuccin Latte Theme Styles */
body.theme-catppuccin-latte {
  background-color: var(--ctp-latte-base);
  color: var(--ctp-latte-text);
}
body.theme-catppuccin-latte header,
body.theme-catppuccin-latte aside,
body.theme-catppuccin-latte #pinnedLogsContainer,
body.theme-catppuccin-latte #pinnedLogsContent,
body.theme-catppuccin-latte .view-section pre,
body.theme-catppuccin-latte .view-section div[class*="bg-gray-800"] /* Approx for general light cards */ {
  background-color: var(--ctp-latte-mantle);
  color: var(--ctp-latte-text);
  border-color: var(--ctp-latte-surface0);
}
body.theme-catppuccin-latte .nav-link { color: var(--ctp-latte-subtext0); }
body.theme-catppuccin-latte .nav-link:hover { color: var(--ctp-latte-text); background-color: var(--ctp-latte-surface0); }
body.theme-catppuccin-latte .nav-link.active-nav { background-color: var(--ctp-latte-surface1); color: var(--ctp-latte-mauve); }
body.theme-catppuccin-latte button,
body.theme-catppuccin-latte select,
body.theme-catppuccin-latte input {
  background-color: var(--ctp-latte-surface0);
  color: var(--ctp-latte-text);
  border-color: var(--ctp-latte-surface1);
}
body.theme-catppuccin-latte button:hover,
body.theme-catppuccin-latte select:hover,
body.theme-catppuccin-latte input:hover {
  border-color: var(--ctp-latte-overlay0);
}
body.theme-catppuccin-latte #log-stream { background-color: var(--ctp-latte-crust); color: var(--ctp-latte-green); }
body.theme-catppuccin-latte #spec-content { color: var(--ctp-latte-blue); }
body.theme-catppuccin-latte #mapping-content { color: var(--ctp-latte-teal); }
body.theme-catppuccin-latte #sidebar.sidebar-collapsed-hoverable:hover {
  background-color: var(--ctp-latte-surface0);
}
body.theme-catppuccin-latte #pinnedLogsHeader:hover {
  background-color: var(--ctp-latte-surface0);
}
body.theme-catppuccin-latte #toggleSidebarDesktop:hover {
  background-color: var(--ctp-latte-surface0);
}
body.theme-catppuccin-latte .bg-blue-600 { background-color: var(--ctp-latte-blue); color: var(--ctp-latte-base); }
body.theme-catppuccin-latte .hover\\:bg-blue-700:hover { background-color: var(--ctp-latte-sapphire); color: var(--ctp-latte-base); }
body.theme-catppuccin-latte .bg-gray-700 { background-color: var(--ctp-latte-surface1); color: var(--ctp-latte-text); } /* Adjusted for better contrast */
body.theme-catppuccin-latte .hover\\:bg-gray-600:hover { background-color: var(--ctp-latte-surface2); color: var(--ctp-latte-text); } /* Adjusted */
body.theme-catppuccin-latte .bg-yellow-500 { background-color: var(--ctp-latte-yellow); color: var(--ctp-latte-base); }
body.theme-catppuccin-latte .hover\\:bg-yellow-600:hover { background-color: var(--ctp-latte-peach); color: var(--ctp-latte-base); }
body.theme-catppuccin-latte .bg-green-600 { background-color: var(--ctp-latte-green); color: var(--ctp-latte-base); }
body.theme-catppuccin-latte .hover\\:bg-green-700:hover { background-color: var(--ctp-latte-teal); color: var(--ctp-latte-base); }
body.theme-catppuccin-latte .text-gray-300 { color: var(--ctp-latte-subtext0); }
body.theme-catppuccin-latte .text-gray-100 { color: var(--ctp-latte-text); } /* Main text on light bg */
body.theme-catppuccin-latte .text-gray-400 { color: var(--ctp-latte-overlay1); }
body.theme-catppuccin-latte .text-gray-500 { color: var(--ctp-latte-overlay0); }
body.theme-catppuccin-latte .border-gray-700 { border-color: var(--ctp-latte-surface0); }
body.theme-catppuccin-latte .border-gray-600 { border-color: var(--ctp-latte-surface1); }
body.theme-catppuccin-latte .bg-gray-900 { background-color: var(--ctp-latte-base); } /* For select dropdown bg */
body.theme-catppuccin-latte .bg-black { background-color: var(--ctp-latte-crust); } /* For log stream bg */
body.theme-catppuccin-latte .text-green-400 { color: var(--ctp-latte-green); } /* Log stream text */
body.theme-catppuccin-latte .text-blue-300 { color: var(--ctp-latte-blue); } /* Spec content */
body.theme-catppuccin-latte .text-green-300 { color: var(--ctp-latte-teal); } /* Mapping content */
body.theme-catppuccin-latte .text-red-500 { color: var(--ctp-latte-red); }
body.theme-catppuccin-latte .text-yellow-400 { color: var(--ctp-latte-yellow); }
body.theme-catppuccin-latte .text-blue-400 { color: var(--ctp-latte-blue); }
body.theme-catppuccin-latte .hover\\:text-white:hover { color: var(--ctp-latte-text); } /* Hover text on light bg */

/* Light card specific styles for on/off state */
.entity-card.light-on {
  /* Default theme ON state - more prominent */
  border-left-width: 4px;
  border-left-color: var(--ctp-mocha-green, #48bb78 /* Tailwind green-500 as fallback */);
}
body.theme-default .entity-card.light-on { background-color: #2d3748; /* gray-800 slightly lighter */ border-left-color: #68d391;}
body.theme-dark .entity-card.light-on { background-color: #2c3440; border-left-color: #58b082;}
body.theme-light .entity-card.light-on { background-color: #f0f4f8; border-left-color: #48bb78;}
body.theme-catppuccin-mocha .entity-card.light-on { background-color: var(--ctp-mocha-surface0); border-left-color: var(--ctp-mocha-green);}
body.theme-catppuccin-latte .entity-card.light-on { background-color: var(--ctp-latte-surface0); border-left-color: var(--ctp-latte-green);}

.entity-card.light-off {
  /* Default theme OFF state - more subdued */
  opacity: 0.75;
  border-width: 1px;
  border-style: solid;
  border-color: #374151; /* Fallback border color (Tailwind gray-700) */
}
body.theme-default .entity-card.light-off {
  background-color: #15181e; /* Darker than page background */
  opacity: 1; /* Full opacity */
  border-color: #2d3748; /* Tailwind gray-800 for definition */
}
body.theme-dark .entity-card.light-off {
  background-color: #1a202c; /* Darker than general card background (e.g., gray-900) */
  opacity: 1; /* Full opacity */
  border-color: #2d3748; /* Tailwind gray-800 for definition */
}
body.theme-light .entity-card.light-off {
  background-color: #e2e8f0; /* Tailwind gray-200 (already darker than 'on' cards) */
  opacity: 1; /* Full opacity */
  border-color: #cbd5e1; /* Tailwind gray-300 for definition */
}
body.theme-catppuccin-mocha .entity-card.light-off {
  background-color: var(--ctp-mocha-mantle); /* Darker than page background (base) */
  opacity: 1; /* Full opacity */
  border-color: var(--ctp-mocha-surface0); /* surface0 for definition against mantle */
}
body.theme-catppuccin-latte .entity-card.light-off {
  background-color: var(--ctp-latte-surface1); /* Darker than 'on' cards (surface0) */
  opacity: 1; /* Full opacity */
  border-color: var(--ctp-latte-surface2); /* surface2 for definition against surface1 */
}

.entity-card {
  cursor: pointer; /* Indicate the card is clickable */
  transition: background-color 0.2s ease-in-out, opacity 0.2s ease-in-out, border-color 0.2s ease-in-out;
}

/* Toast Notification Styles */
#toast-container {
  position: fixed;
  top: 80px; /* Adjust if header height changes */
  right: 20px;
  z-index: 1050; /* Ensure it's above other content */
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: auto;
  max-width: 350px;
}

.toast-message {
  padding: 12px 16px;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  justify-content: space-between;
  align-items: center;
  opacity: 0;
  transform: translateX(100%);
  transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out, background-color 0.3s, color 0.3s, border-color 0.3s;
  font-size: 0.9rem;
  border-width: 1px;
  border-style: solid;
  min-width: 250px;
}

.toast-message.show {
  opacity: 1;
  transform: translateX(0);
}

.toast-message .toast-close-btn {
  background: transparent;
  border: none;
  color: inherit;
  font-size: 1.2rem;
  margin-left: 15px;
  cursor: pointer;
  padding: 0;
  line-height: 1;
  opacity: 0.7;
}
.toast-message .toast-close-btn:hover {
  opacity: 1;
}

/* Default Theme Toasts */
.theme-default .toast-info { background-color: #2d3748; color: #e2e8f0; border-color: #4a5568; }
.theme-default .toast-success { background-color: #2f855a; color: #e2e8f0; border-color: #38a169; } /* Dark green */
.theme-default .toast-error { background-color: #c53030; color: #e2e8f0; border-color: #e53e3e; } /* Dark red */
.theme-default .toast-warning { background-color: #dd6b20; color: #e2e8f0; border-color: #ed8936; } /* Dark orange */

/* Dark Theme Toasts (similar to default or slightly adjusted) */
.theme-dark .toast-info { background-color: #374151; color: #d1d5db; border-color: #4b5563; }
.theme-dark .toast-success { background-color: #047857; color: #d1d5db; border-color: #059669; }
.theme-dark .toast-error { background-color: #b91c1c; color: #d1d5db; border-color: #dc2626; }
.theme-dark .toast-warning { background-color: #c2410c; color: #d1d5db; border-color: #ea580c; }

/* Light Theme Toasts */
.theme-light .toast-info { background-color: #e2e8f0; color: #2d3748; border-color: #cbd5e1; }
.theme-light .toast-success { background-color: #c6f6d5; color: #22543d; border-color: #9ae6b4; } /* Light green */
.theme-light .toast-error { background-color: #fed7d7; color: #742a2a; border-color: #fbb6b6; } /* Light red */
.theme-light .toast-warning { background-color: #feebc8; color: #9c4221; border-color: #fbd38d; } /* Light orange */

/* Catppuccin Mocha Toasts */
.theme-catppuccin-mocha .toast-info { background-color: var(--ctp-mocha-surface1); color: var(--ctp-mocha-text); border-color: var(--ctp-mocha-surface2); }
.theme-catppuccin-mocha .toast-success { background-color: var(--ctp-mocha-green); color: var(--ctp-mocha-base); border-color: var(--ctp-mocha-green); }
.theme-catppuccin-mocha .toast-error { background-color: var(--ctp-mocha-red); color: var(--ctp-mocha-base); border-color: var(--ctp-mocha-red); }
.theme-catppuccin-mocha .toast-warning { background-color: var(--ctp-mocha-peach); color: var(--ctp-mocha-base); border-color: var(--ctp-mocha-peach); }

/* Catppuccin Latte Toasts */
.theme-catppuccin-latte .toast-info { background-color: var(--ctp-latte-surface1); color: var(--ctp-latte-text); border-color: var(--ctp-latte-surface2); }
.theme-catppuccin-latte .toast-success { background-color: var(--ctp-latte-green); color: var(--ctp-latte-base); border-color: var(--ctp-latte-green); }
.theme-catppuccin-latte .toast-error { background-color: var(--ctp-latte-red); color: var(--ctp-latte-base); border-color: var(--ctp-latte-red); }
.theme-catppuccin-latte .toast-warning { background-color: var(--ctp-latte-peach); color: var(--ctp-latte-base); border-color: var(--ctp-latte-peach); }
